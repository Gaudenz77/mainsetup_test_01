import{p as k,d as B,o as l,e as o,b as m,u as C,w as x,a as s,t as n,f as i,l as g,B as u,F as I,s as h,Z as E}from"./app-C6YAwWgc.js";import{_ as S}from"./AppLayout-B14eDap7.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"font-semibold text-xl leading-tight text-black dark:text-white"},$={class:"min-h-screen text-black dark:text-white"},j={class:"relative h-[500px] overflow-hidde"},D=["src"],N={class:"flex items-center justify-center h-1/2"},U={class:"lg:w-1/2 md:w-2/3 sm:w-full px-4 py-12"},M={key:0,class:"text-3xl font-bold mb-4"},T={key:1,class:"text-3xl font-bold mb-4"},F={key:2,class:"text-lg leading-relaxed"},L={key:3,class:"text-lg leading-relaxed"},Z=s("hr",{class:"border-dashed border-2 bg-orange-500 my-3"},null,-1),q={key:5,class:"textSingle text-sm"},z={class:"flex justify-center mt-4 gap-2"},A=s("a",{href:"/blogpage",type:"button",class:"text-white bg-gray-500 px-4 py-2 rounded-md"},"Back to Blogpage",-1),K=k({__name:"SingleStory",props:{blog:{},authId:{}},setup(y){const e=y,a=B(!1);let c,b,p;const f=async d=>{try{await h.delete(`/blogs/${d}`),window.location.href="/blogpage"}catch(t){console.error("Error deleting blog:",t)}},_=async()=>{try{const d=await h.put(`/blogs/${e.blog.id}`,e.blog);console.log("blog updated:",d.data),window.location.reload()}catch(d){console.error("Error updating blog:",d)}},w=()=>{a.value=!0,c=e.blog.title,b=e.blog.leadtext,p=e.blog.message},v=()=>{a.value=!1,e.blog.title=c,e.blog.leadtext=b,e.blog.message=p};return(d,t)=>(l(),o(I,null,[m(C(E),{title:"Dashboard"}),m(S,{blog:e.blog,authId:e.authId},{header:x(()=>[s("h2",V," Single Story No. "+n(e.blog.id),1)]),default:x(()=>[s("div",$,[s("div",j,[d.blog.image?(l(),o("img",{key:0,src:"/storage/"+d.blog.image,class:"absolute inset-0 w-full h-full object-cover object-center",alt:"blog Image"},null,8,D)):i("",!0)]),s("div",N,[s("div",U,[a.value?(l(),o("h1",M,[g(s("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>e.blog.title=r),class:"w-full border-gray-300 text-slate-800 rounded-md p-2"},null,512),[[u,e.blog.title]])])):(l(),o("h1",T,n(e.blog.title),1)),a.value?(l(),o("p",F,[g(s("textarea",{"onUpdate:modelValue":t[1]||(t[1]=r=>e.blog.leadtext=r),class:"w-full border-gray-300 text-slate-800 rounded-md p-2"},null,512),[[u,e.blog.leadtext]])])):(l(),o("p",L,n(e.blog.leadtext),1)),Z,a.value?g((l(),o("textarea",{key:4,"onUpdate:modelValue":t[2]||(t[2]=r=>e.blog.message=r),class:"w-full text-slate-800 rounded-md p-2 h-[300px]"},null,512)),[[u,e.blog.message]]):(l(),o("p",q,n(e.blog.message),1)),s("div",z,[e.authId===e.blog.user_id?(l(),o("button",{key:0,onClick:t[3]||(t[3]=r=>a.value?_():w()),class:"text-white bg-yellow-500 px-4 py-2 rounded-md mr-0"},n(a.value?"Update":"Edit"),1)):i("",!0),e.authId===e.blog.user_id&&!a.value?(l(),o("button",{key:1,onClick:t[4]||(t[4]=r=>f(e.blog.id)),class:"text-white bg-red-500 px-4 py-2 rounded-md"},"Delete")):i("",!0),a.value?(l(),o("button",{key:2,onClick:v,class:"text-white bg-gray-500 px-4 py-2 rounded-md"},"Cancel")):i("",!0),A])])])])]),_:1},8,["blog","authId"])],64))}});export{K as default};
