import{p as k,d as B,o as l,e as o,b as m,u as I,w as x,a as s,t as r,f as i,l as g,B as b,F as C,s as h,Z as S}from"./app-CjfQt-Oh.js";import{_ as E}from"./AppLayout-DJQHD1IP.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./MyFooter-COHM_QvF.js";const V={class:"font-semibold text-xl leading-tight"},$={class:"min-h-screen"},j={class:"singleBlogImgAbv relative h-[500px] overflow-hidde"},D=["src"],N={class:"flex items-center justify-center h-1/2"},U={class:"lg:w-1/2 md:w-2/3 sm:w-full px-4 py-12"},M={key:0,class:"text-3xl font-bold mb-4"},T={key:1,class:"text-3xl font-bold mb-4"},F={key:2,class:"text-lg leading-relaxed"},A={key:3,class:"text-lg leading-relaxed"},L=s("hr",{class:"border-dashed border-2 bg-orange-500 my-3"},null,-1),Z={key:5,class:"textSingle text-sm"},q={class:"flex justify-center mt-4 gap-2"},z=s("a",{href:"/blogpage",type:"button",class:"btn text-white bg-gray-500 px-4 py-2"},"Back to Blogpage",-1),O=k({__name:"SingleStory",props:{blog:{},authId:{}},setup(y){const e=y,a=B(!1);let c,u,p;const f=async n=>{try{await h.delete(`/blogs/${n}`),window.location.href="/blogpage"}catch(t){console.error("Error deleting blog:",t)}},_=async()=>{try{const n=await h.put(`/blogs/${e.blog.id}`,e.blog);console.log("blog updated:",n.data),window.location.reload()}catch(n){console.error("Error updating blog:",n)}},v=()=>{a.value=!0,c=e.blog.title,u=e.blog.leadtext,p=e.blog.message},w=()=>{a.value=!1,e.blog.title=c,e.blog.leadtext=u,e.blog.message=p};return(n,t)=>(l(),o(C,null,[m(I(S),{title:"Dashboard"}),m(E,{title:"Singlestory",blog:e.blog,authId:e.authId},{header:x(()=>[s("h2",V," Single Story No. "+r(e.blog.id),1)]),default:x(()=>[s("div",$,[s("div",j,[n.blog.image?(l(),o("img",{key:0,src:"/storage/"+n.blog.image,class:"singleBlogImg absolute inset-0 w-full h-full object-cover object-center",alt:"blog Image"},null,8,D)):i("",!0)]),s("div",N,[s("div",U,[a.value?(l(),o("h1",M,[g(s("input",{"onUpdate:modelValue":t[0]||(t[0]=d=>e.blog.title=d),class:"w-full border-gray-300 text-slate-800 rounded-md p-2"},null,512),[[b,e.blog.title]])])):(l(),o("h1",T,r(e.blog.title),1)),a.value?(l(),o("p",F,[g(s("textarea",{"onUpdate:modelValue":t[1]||(t[1]=d=>e.blog.leadtext=d),class:"w-full border-gray-300 text-slate-800 rounded-md p-2"},null,512),[[b,e.blog.leadtext]])])):(l(),o("p",A,r(e.blog.leadtext),1)),L,a.value?g((l(),o("textarea",{key:4,"onUpdate:modelValue":t[2]||(t[2]=d=>e.blog.message=d),class:"w-full text-slate-800 rounded-md p-2 h-[300px]"},null,512)),[[b,e.blog.message]]):(l(),o("p",Z,r(e.blog.message),1)),s("div",q,[e.authId===e.blog.user_id?(l(),o("button",{key:0,onClick:t[3]||(t[3]=d=>a.value?_():v()),class:"btn text-white bg-yellow-500 px-4 py-2 mr-0"},r(a.value?"Update":"Edit"),1)):i("",!0),e.authId===e.blog.user_id&&!a.value?(l(),o("button",{key:1,onClick:t[4]||(t[4]=d=>f(e.blog.id)),class:"btn text-white bg-red-500 px-4 py-2"},"Delete")):i("",!0),a.value?(l(),o("button",{key:2,onClick:w,class:"btn text-white bg-gray-500 px-4 py-2"},"Cancel")):i("",!0),z])])])])]),_:1},8,["blog","authId"])],64))}});export{O as default};
